From 7cf3d0579ea32f535bec1e0f389f7a86642e9d80 Mon Sep 17 00:00:00 2001
From: Xi Ruoyao <xry111@xry111.site>
Date: Mon, 23 Jun 2025 16:21:48 +0800
Subject: [PATCH 05/63] loonggpu: Remove the unused loonggpu_fbdev_total_size
 function

It's referred nowhere.

Signed-off-by: Xi Ruoyao <xry111@xry111.site>
---
 include/loonggpu_mode.h |  1 -
 loonggpu/loonggpu_fb.c  | 13 -------------
 2 files changed, 14 deletions(-)

diff --git a/include/loonggpu_mode.h b/include/loonggpu_mode.h
index b0a0182..907b06a 100644
--- a/include/loonggpu_mode.h
+++ b/include/loonggpu_mode.h
@@ -171,7 +171,6 @@ int loonggpu_display_framebuffer_init(struct drm_device *dev,
 int loonggpu_fbdev_init(struct loonggpu_device *adev);
 void loonggpu_fbdev_fini(struct loonggpu_device *adev);
 void loonggpu_fbdev_set_suspend(struct loonggpu_device *adev, int state);
-int loonggpu_fbdev_total_size(struct loonggpu_device *adev);
 bool loonggpu_fbdev_robj_is_fb(struct loonggpu_device *adev, struct loonggpu_bo *robj);
 int loonggpu_align_pitch(struct loonggpu_device *adev, int width, int bpp, bool tiled);
 int loonggpu_display_modeset_create_props(struct loonggpu_device *adev);
diff --git a/loonggpu/loonggpu_fb.c b/loonggpu/loonggpu_fb.c
index bae35a3..1f82c8e 100644
--- a/loonggpu/loonggpu_fb.c
+++ b/loonggpu/loonggpu_fb.c
@@ -336,19 +336,6 @@ void loonggpu_fbdev_set_suspend(struct loonggpu_device *adev, int state)
 						   state);
 }
 
-int loonggpu_fbdev_total_size(struct loonggpu_device *adev)
-{
-	struct loonggpu_bo *robj;
-	int size = 0;
-
-	if (!adev->mode_info.rfbdev)
-		return 0;
-
-	robj = gem_to_loonggpu_bo(adev->mode_info.rfbdev->rfb.base.obj[0]);
-	size += loonggpu_bo_size(robj);
-	return size;
-}
-
 bool loonggpu_fbdev_robj_is_fb(struct loonggpu_device *adev, struct loonggpu_bo *robj)
 {
 	if (!adev->mode_info.rfbdev)
-- 
2.52.0

